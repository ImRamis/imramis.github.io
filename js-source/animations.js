class AnimationManager{constructor(){CONFIG.features.animations&&this.init()}init(){this.initScrollAnimations(),this.initNavbarAnimation(),this.initCounterAnimations(),this.initMagneticButtons(),this.initParallax()}initScrollAnimations(){const t={threshold:CONFIG.performance.intersectionThreshold,rootMargin:CONFIG.performance.rootMargin},e=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){t.target.classList.add("visible");const e=t.target.closest("section");if(e&&"undefined"!=typeof gtag){const t=e.getAttribute("id");gtag("event","section_view",{event_category:"engagement",event_label:t})}}}))}),t);document.querySelectorAll(".fade-in-up, .slide-in-left, .slide-in-right, .scale-in, .timeline-item, .cert-card, .project-card, .skill-category, .stat-card, .training-card, .award-card").forEach((t=>{e.observe(t)}))}initNavbarAnimation(){const t=document.getElementById("navbar");if(!t)return;let e=0,n=!1;const i=()=>{const i=window.pageYOffset;i>50?t.classList.add("scrolled"):t.classList.remove("scrolled"),e=i,n=!1};window.addEventListener("scroll",(()=>{n||(requestAnimationFrame(i),n=!0)}))}initCounterAnimations(){const t=document.querySelectorAll(".stat-number"),e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&((t=>{const e=t.textContent,n=e.includes("%"),i=e.includes("+"),o=parseInt(e.replace(/[^0-9]/g,""));if(isNaN(o))return;const r=o/125;let s=0;const a=setInterval((()=>{s+=r,s>=o&&(s=o,clearInterval(a));let e=Math.floor(s);n&&(e+="%"),i&&(e+="+"),t.textContent=e}),16)})(t.target),e.unobserve(t.target))}))}));t.forEach((t=>e.observe(t)))}initMagneticButtons(){document.querySelectorAll(".btn, .social-links a, .filter-btn").forEach((t=>{t.addEventListener("mousemove",(e=>{const n=t.getBoundingClientRect(),i=e.clientX-n.left-n.width/2,o=e.clientY-n.top-n.height/2;t.style.transform=`translate(${.2*i}px, ${.2*o}px)`})),t.addEventListener("mouseleave",(()=>{t.style.transform="translate(0, 0)"}))}))}initParallax(){const t=document.querySelector(".hero-section"),e=document.getElementById("matrix-rain");if(!t)return;let n=!1;const i=()=>{const t=-.5*window.pageYOffset;e&&(e.style.transform=`translateY(${.6*t}px)`),n=!1};window.addEventListener("scroll",(()=>{n||(requestAnimationFrame(i),n=!0)}))}initCursorTrail(){if(window.innerWidth<=1024||"ontouchstart"in window)return;const t=[];for(let e=0;e<8;e++){const n=document.createElement("div");n.className="cursor-trail",n.style.cssText=`\n                position: fixed;\n                width: ${4+2*e}px;\n                height: ${4+2*e}px;\n                border-radius: 50%;\n                background: var(--accent-color);\n                pointer-events: none;\n                z-index: 9999;\n                opacity: ${.5-.05*e};\n                transition: transform 0.1s ease;\n            `,document.body.appendChild(n),t.push(n)}let e=0,n=0;document.addEventListener("mousemove",(t=>{e=t.clientX,n=t.clientY}));const i=()=>{let o=e,r=n;t.forEach(((e,n)=>{const i=t[n+1]||t[0];e.style.left=o-e.offsetWidth/2+"px",e.style.top=r-e.offsetHeight/2+"px",o+=.4*(i.offsetLeft-e.offsetLeft),r+=.4*(i.offsetTop-e.offsetTop)})),requestAnimationFrame(i)};i()}}let animationManager;document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{animationManager=new AnimationManager}),2e3)}));